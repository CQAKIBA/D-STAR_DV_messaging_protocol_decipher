# Protocol Analysis Project for RS-MS1A (Common section)

Copyright (c) 2025-2026 Daisuke JA1UMW / CQAKIBA.TOKYO

Licensed under the Apache License 2.0


This document describes observed communication behavior of RS-MS1A for use in amateur radio systems.  
It is not affiliated with or endorsed by ICOM Inc.  
本ドキュメントは、アマチュア無線システムでの利用を目的として、RS-MS1A の通信挙動を観測・分析した技術資料です。  
ICOM株式会社とは一切関係なく、公式に承認されたものではありません。  

---

## 概要

本ドキュメントは、ICOM製 D-STAR メッセージングソフトウェア RS-MS1A
および、同等のメッセージング機能を有する無線機と通信するための
プロトコル解析情報です。

この解析情報を用いることで、公式アプリケーションや、D-STAR 無線機に標準搭載されている機能を活用し、以下のような応用が実現される事を期待しています。

* メッセージングアプリケーションの開発
* ニュースなどの情報配信
* AIチャットボットとの接続
* リモートコマンド操作
* その他各種サービスやゲームの開発

> **注意**
> 本解析情報について、メーカーおよび関係機関へ問い合わせる行為は、単なる迷惑行為となるため、絶対に行わないでください。

---

## 共通部分の仕様

（実機の挙動 / D-STAR 仕様書 / Wikipedia 等より）

### 物理層

* 単純なシリアル通信
  * 有線: USB-RS232C（純正ケーブル or FTDIチップのみ）
  * 無線: Bluetooth SPP
  * 無線: BLE (iPhoneアプリ RS-MS1I での実装。iPhoneがSPPに対応していないためと思われる。)
* RS323Cの場合は XON / XOFF フロー制御
* XON / XOFF および一部制御コードに対するエスケープシーケンスあり
  （詳細は D-STAR 仕様書参照）
* 一方向通信のみ
  * ACK なし
  * 自動再送なし
* 全ての D-STAR 無線機間で単純な全透過通信
  いお* クロスケーブル直結でも動作可能
  * つまり D-STAR でなくても自作無線機でそのまま転用......おっと、誰か来たようだ。
---
### 通信方式
* 生データストリーム
  * 今回の解析対象
  * 無線機の変更で、旧世代の機種 もしくは「その他(USB接続)」「その他(Bluetooth接続)」を選択するとこのモードになる。
* CI-V制御
  * 無線機の変更で、新しめの機種を選択するとこのモードになる。無線機の設定も含めCI-Vコマンドで制御される。
  * 流しているデータは同じであるが、機種依存コマンドでの制御になるので本文書では触れない。
---
### データフレーム
* $$ で始まり、[0x0D(CR)] で終わる。
* 末尾に更に [0x00(NULL)] が付く事がある。(条件不明、無視で問題なさそう。)
* フレームの種類は現在3種類と思われる。
  * $$Msg （テキストチャット）
  * $$Pic （画像）
  * $$Pos （位置情報）














